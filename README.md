# OpenClaw é£ä¹¦ AI åŠ©æ‰‹éƒ¨ç½²æŒ‡å—

æœ¬æŒ‡å—è®°å½•äº†åœ¨ **UCloud/è…¾è®¯äº‘** ç¯å¢ƒä¸‹ï¼Œç»“åˆ **å®å¡”é¢æ¿** éƒ¨ç½² **OpenClaw (2026.1.29)** å¹¶æ¥å…¥ **é£ä¹¦æœºå™¨äºº** çš„å®Œæ•´æµç¨‹ã€‚

## ğŸ›  ä¸€ã€ç¯å¢ƒå‡†å¤‡

1. **æœåŠ¡å™¨**ï¼šUCloud æˆ–è…¾è®¯äº‘è½»é‡åº”ç”¨æœåŠ¡å™¨ï¼ˆå»ºè®®é€‰ç”¨å·²é›†æˆé•œåƒï¼‰

2. **ç®¡ç†é¢æ¿**ï¼šå®å¡”é¢æ¿ï¼ˆç”¨äºç®€åŒ–é˜²ç«å¢™ç®¡ç†ï¼‰

3. **é£ä¹¦åº”ç”¨**ï¼š[é£ä¹¦å¼€æ”¾å¹³å°](https://open.feishu.cn/app) è‡ªå»ºåº”ç”¨

## ğŸš€ äºŒã€å®‰è£… OpenClaw

æ‰§è¡Œå®˜æ–¹ä¸€é”®å®‰è£…è„šæœ¬ï¼š

```bash
curl -fsSL https://openclaw.ai/install.sh | bash
```

å®‰è£…å®Œæˆåï¼Œè¿è¡Œåˆå§‹åŒ–é…ç½®ï¼š

```bash
openclaw doctor --fix
```

## âš™ï¸ ä¸‰ã€ç½‘å…³é…ç½®

1. **è®¾ç½®ç½‘å…³æ¨¡å¼**ï¼š

   ```bash
   openclaw config set gateway.mode local
   ```

2. **é…ç½®å¤–ç½‘ç›‘å¬**ï¼ˆå…³é”®æ­¥éª¤ï¼‰ï¼š

   ```bash
   openclaw gateway stop
   openclaw config set gateway.bind lan
   openclaw gateway run
   ```

   > **æ³¨æ„**ï¼šä½¿ç”¨ `lan` å…³é”®å­—å¯ä»¥å¼€å¯å…¬ç½‘ç›‘å¬ï¼Œé¿å…ä½¿ç”¨ `0.0.0.0` æˆ– `any` å¯èƒ½å¯¼è‡´çš„æ ¡éªŒé—®é¢˜ã€‚

3. **å¯¹é½ç½‘å…³ Token**ï¼ˆè§£å†³è®¤è¯é—®é¢˜ï¼‰ï¼š

   ```bash
   openclaw config set gateway.remote.token $(openclaw config get gateway.auth.token)
   ```

## ğŸ”Œ å››ã€å®‰è£…é£ä¹¦æ’ä»¶

ä½¿ç”¨æ­£ç¡®çš„æ’ä»¶åŒ…åè¿›è¡Œå®‰è£…ï¼š

```bash
# è®¾ç½®å›½å†…é•œåƒæºï¼ˆåŠ é€Ÿä¸‹è½½ï¼‰
export NPM_CONFIG_REGISTRY=https://registry.npmmirror.com

# å®‰è£…å®˜æ–¹é£ä¹¦æ’ä»¶
openclaw plugins install @m1heng-clawd/feishu
```

## ğŸ“ äº”ã€é…ç½®é£ä¹¦å‡­è¯

åœ¨ç»ˆç«¯ä¾æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤é…ç½®é£ä¹¦åº”ç”¨ä¿¡æ¯ï¼š

```bash
# è®¾ç½® App ID
openclaw config set channels.feishu.appId "cli_a9f6f9421e7c5bd2"

# è®¾ç½® App Secret
openclaw config set channels.feishu.appSecret "FblscUBzgWkd9NzGKXbjieYg8BXem4Jy"

# è®¾ç½® Verification Token
openclaw config set channels.feishu.verificationToken "TXanHtVq7vbQPiloMdvNre5FtpFqP3t3"

# å¯ç”¨é£ä¹¦é€šé“
openclaw config set channels.feishu.enabled true
```

é…ç½®å®Œæˆåé‡å¯ç½‘å…³ï¼š

```bash
openclaw gateway restart
```

## ğŸ§± å…­ã€é˜²ç«å¢™é…ç½®ï¼ˆå…³é”®ï¼‰

å¿…é¡»åœ¨ **ä¸¤ä¸ªå±‚é¢** æ”¾è¡Œ **TCP 18789** ç«¯å£ï¼š

1. **äº‘å¹³å°é˜²ç«å¢™**ï¼šç™»å½• UCloud/è…¾è®¯äº‘æ§åˆ¶å°ï¼Œåœ¨é˜²ç«å¢™è§„åˆ™ä¸­æ”¾è¡Œ TCP 18789

2. **å®å¡”é¢æ¿å®‰å…¨**ï¼š
   - ç™»å½•å®å¡”é¢æ¿ â†’ ç‚¹å‡»"å®‰å…¨" â†’ ç‚¹å‡»"æ·»åŠ æ”¾è¡Œç«¯å£"
   - è¾“å…¥ 18789ï¼Œå¤‡æ³¨å¡«å†™"é£ä¹¦æœºå™¨äºº"
   - ç‚¹å‡»"ç¡®å®š"

## ğŸ¤– ä¸ƒã€é£ä¹¦å¼€æ”¾å¹³å°é…ç½®

### 1. è·å–å‡­è¯

åœ¨é£ä¹¦åº”ç”¨åå°è·å–ä»¥ä¸‹ä¿¡æ¯ï¼š
- **App ID**ï¼šå‡­è¯ä¸åŸºç¡€ä¿¡æ¯é¡µé¢
- **App Secret**ï¼šå‡­è¯ä¸åŸºç¡€ä¿¡æ¯é¡µé¢
- **Verification Token**ï¼šäº‹ä»¶ä¸å›è°ƒ â†’ åŠ å¯†ç­–ç•¥æ ‡ç­¾é¡µ

### 2. é…ç½®äº‹ä»¶è®¢é˜…

è¿›å…¥"äº‹ä»¶ä¸å›è°ƒ" â†’ "äº‹ä»¶é…ç½®"é¡µé¢ï¼š

1. **æ·»åŠ äº‹ä»¶**ï¼šç‚¹å‡»"æ·»åŠ äº‹ä»¶"ï¼Œæœç´¢å¹¶æ·»åŠ ï¼š
   - `im.message.receive_v1`ï¼ˆæ¥æ”¶æ¶ˆæ¯ï¼‰
   - `im.message.at_receive_v1`ï¼ˆæ¥æ”¶@æœºå™¨äººæ¶ˆæ¯ï¼‰

2. **é€‰æ‹©è®¢é˜…æ–¹å¼**ï¼ˆæ¨èé•¿è¿æ¥æ¨¡å¼ï¼‰ï¼š
   - åˆ‡æ¢åˆ°"å›è°ƒé…ç½®"æ ‡ç­¾é¡µ
   - å‹¾é€‰ **"ä½¿ç”¨é•¿è¿æ¥æ¥æ”¶å›è°ƒ"**
   - ç‚¹å‡»"ä¿å­˜"

   > **é•¿è¿æ¥æ¨¡å¼ä¼˜åŠ¿**ï¼šæ— éœ€é…ç½®å…¬ç½‘ IP å’Œ Webhook åœ°å€ï¼Œä¸å—é˜²ç«å¢™é™åˆ¶ï¼Œæ›´ç¨³å®š

### 3. å‘å¸ƒç‰ˆæœ¬

1. è¿›å…¥"ç‰ˆæœ¬ç®¡ç†ä¸å‘å¸ƒ"
2. ç‚¹å‡»"åˆ›å»ºç‰ˆæœ¬"ï¼Œå¡«å†™ç‰ˆæœ¬å·ï¼ˆå¦‚ 1.0.0ï¼‰
3. ç‚¹å‡»"ä¿å­˜"ï¼Œç„¶åç‚¹å‡»"ç”³è¯·ä¸Šçº¿"
4. ç­‰å¾…ç®¡ç†å‘˜å®¡æ ¸é€šè¿‡ï¼ˆæˆ–è‡ªè¡Œå®¡æ ¸ï¼‰

## âœ… å…«ã€éªŒè¯ä¸æµ‹è¯•

1. **æ£€æŸ¥æœåŠ¡çŠ¶æ€**ï¼š

   ```bash
   openclaw doctor
   ```

2. **æµ‹è¯•æœºå™¨äºº**ï¼š
   - åœ¨é£ä¹¦ä¸­æœç´¢ä½ çš„æœºå™¨äººåç§°
   - å‘é€"ä½ å¥½"è¿›è¡Œæµ‹è¯•

## âš ï¸ å¸¸è§é—®é¢˜æ’æŸ¥

| é—®é¢˜ | è§£å†³æ–¹æ¡ˆ |
|------|----------|
| è¯·æ±‚3ç§’è¶…æ—¶ | æ£€æŸ¥ `gateway.bind` æ˜¯å¦ä¸º `lan`ï¼Œç¡®è®¤å®å¡”å’Œäº‘å¹³å°å·²æ”¾è¡Œ 18789 ç«¯å£ |
| JSON æ ¼å¼ä¸åˆæ³• | Webhook æ¨¡å¼ä¸‹ Token ä¸åŒ¹é…ï¼Œå»ºè®®æ”¹ç”¨"é•¿è¿æ¥"æ¨¡å¼ |
| Unrecognized key "feishu" | é…ç½®å‰ç¼€åº”ä½¿ç”¨ `channels.feishu` è€Œé `plugins.feishu` |
| gateway token mismatch | æ‰§è¡Œ `openclaw config set gateway.remote.token $(openclaw config get gateway.auth.token)` |
| é£ä¹¦éªŒè¯å¤±è´¥ | ç¡®ä¿ Verification Token ä¸é£ä¹¦åå°ä¸€è‡´ï¼Œé…ç½®è·¯å¾„ä¸º `channels.feishu.verificationToken` |
| æœºå™¨äººæ— å“åº” | æ£€æŸ¥æ˜¯å¦å·²å‘å¸ƒç‰ˆæœ¬ï¼Œæ¨¡å‹é…ç½®æ˜¯å¦æ­£ç¡® |

## ğŸ“š å‚è€ƒèµ„æ–™

- [OpenClaw å®˜æ–¹æ–‡æ¡£](https://docs.openclaw.ai/)
- [é£ä¹¦å¼€æ”¾å¹³å°æ–‡æ¡£](https://open.feishu.cn/document/)

#### > å‚è€ƒç½‘å€ï¼šhttps://mp.weixin.qq.com/s/NgT0QVBq3q0hJ6Y4pIXSWA

**åˆ°äº†è¿™ä¸€æ­¥è¯•è¯•èƒ½ä¸èƒ½è®¿é—®æœºå™¨äººäº†ï¼Œå‡ºç°ä¸‹é¢çš„æƒ…å†µå°±è¯´æ˜æˆåŠŸäº†ï¼Œå‰©ä¸‹çš„å°±æ˜¯é…ç½®ä½ è‡ªå·±çš„apiäº†ï¼Œå‚è€ƒæˆ‘çš„ openclaw-after.jsonæ–‡ä»¶**

![image](./img/1.png)

> æ·»åŠ äº† api åè®°å¾—é‡å¯æœåŠ¡ ï¼šopenclaw gateway restart

**ç„¶åå°±å¯ä»¥äº†**

![image](./img/2.png)